"use strict";(self.webpackChunkng_football=self.webpackChunkng_football||[]).push([[64],{7064:(z,b,l)=>{l.r(b),l.d(b,{FootballResultsModule:()=>H});var c=l(6814),h=l(4036),t=l(4946),g=l(8645),p=l(9773),w=l(5619),m=l(2096),v=l(7398),x=l(6306),d=l(9862);class C{constructor(s,e,i,r){this.country=s,this.name=e,this.apiId=i,this.currentSeason=r}}let y=(()=>{class n{get(e){const i=localStorage.getItem(e);if(i){const r=JSON.parse(i);if(r&&r.expiration>Date.now())return r.data}return null}set(e,i,r){const o=Date.now()+r;localStorage.setItem(e,JSON.stringify({data:i,expiration:o}))}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),f=(()=>{class n{constructor(){this._errorSubject=new g.x,this.error$=this._errorSubject.asObservable()}setCurrentError(e){this._errorSubject.next(e)}flush(){this._errorSubject.next(null)}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Z=(()=>{class n{constructor(e,i,r){this.http=e,this.cacheService=i,this.errorService=r,this.apiKey="19332c6ea72f76eb2cd3608a1f623959",this.apiUrl="https://v3.football.api-sports.io/",this.cacheKey="league",this.leagueId=[39,140,61,78,135],this._currentLeague=new w.X(null),this.currentLeague$=this._currentLeague.asObservable()}getLeagues(){this.errorService.flush();const e=this.cacheService.get(this.cacheKey);if(e)return(0,m.of)(e);{const i=new d.WM({"x-apisports-key":this.apiKey});return this.http.get(`${this.apiUrl}/leagues?current=true`,{headers:i}).pipe((0,v.U)(r=>{if(0===r.errors.length){let o=r.response.filter(a=>this.leagueId.includes(a.league.id)).map(a=>new C(a.country.name,a.league.name,a.league.id,a.seasons.filter(u=>!0===u.current)[0].year));return this.cacheService.set(this.cacheKey,o,864e5),o}{const o=Object.values(r.errors);throw new Error(o[0]??"Unknown Error")}},(0,x.K)(r=>(this.errorService.setCurrentError(r),[]))))}}selectCurrentLeague(e){this._currentLeague.next(e)}get currentLeague(){return this._currentLeague.getValue()}static#t=this.\u0275fac=function(i){return new(i||n)(t.LFG(d.eN),t.LFG(y),t.LFG(f))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function O(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"li",4),t.NdJ("click",function(){const o=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.leagueSelect(o))}),t._uU(1),t.qZA()}if(2&n){const e=s.$implicit,i=t.oxw();t.ekj("active",i.isActive(e)),t.uIk("id",e.country+"Select"),t.xp6(1),t.hij(" ",e.country," ")}}let T=(()=>{class n{constructor(e){this.leagueService=e,this.destroyed$=new g.x,this.leagues=[]}leagueSelect(e){this.leagueService.selectCurrentLeague(e)}isActive(e){return this.leagueService.currentLeague?.apiId===e?.apiId}ngOnInit(){this.leagueService.getLeagues().pipe((0,p.R)(this.destroyed$)).subscribe(e=>{this.leagues=e})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Z))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-league-list"]],decls:4,vars:1,consts:[[1,"container"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light","rounded-3"],[1,"mx-auto","text-center"],["class","nav-item custom-nav-item",3,"active","click",4,"ngFor","ngForOf"],[1,"nav-item","custom-nav-item",3,"click"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"nav",1)(2,"ul",2),t.YNc(3,O,2,4,"li",3),t.qZA()()()),2&i&&(t.xp6(3),t.Q6J("ngForOf",r.leagues))},dependencies:[c.sg],styles:[".custom-nav-item[_ngcontent-%COMP%]{max-width:100px;width:100px;cursor:pointer;min-height:35px}.nav-item.active[_ngcontent-%COMP%]{background-color:#ffda6a;border-radius:15px}ul[_ngcontent-%COMP%]{list-style:none;display:flex;margin:0;padding:0}li[_ngcontent-%COMP%]{text-align:center;line-height:40px}"]})}return n})();class _{constructor(s){this.id=s.id,this.name=s.name,this.logo=s.logo}}class F{constructor(s){this.rank=s.rank,this.points=s.points,this.goalsDiff=s.goalsDiff,this.team=new _(s.team),this.all=new L(s.all)}}class L{constructor(s){this.played=s.played,this.win=s.win,this.draw=s.draw,this.lose=s.lose}}let U=(()=>{class n{constructor(e,i,r){this.http=e,this.cacheService=i,this.errorService=r,this.apiKey="19332c6ea72f76eb2cd3608a1f623959",this.apiUrl="https://v3.football.api-sports.io/",this.cacheKey="standings",this._currentStanding=new w.X(null),this.currentStanding$=this._currentStanding.asObservable()}getStandings(e){this.errorService.flush();const i=this.cacheService.get(this.cacheKey+e?.apiId);if(i)return(0,m.of)(i);{const r=new d.WM({"x-apisports-key":this.apiKey});return this.http.get(`${this.apiUrl}/standings?league=${e.apiId}&season=${e.currentSeason}`,{headers:r}).pipe((0,v.U)(o=>{if(0===o.errors.length){let a=o.response[0].league.standings[0].sort((u,R)=>R.rank+u.rank).map(u=>new F(u));return this.cacheService.set(this.cacheKey+e.apiId,a,36e5),a}{const a=Object.values(o.errors);throw new Error(a[0]??"Unknown Error")}}),(0,x.K)(o=>(this.errorService.setCurrentError(o),this.setCurrentStanding(null),[])))}}setCurrentStanding(e){this._currentStanding.next(e)}static#t=this.\u0275fac=function(i){return new(i||n)(t.LFG(d.eN),t.LFG(y),t.LFG(f))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),A=(()=>{class n{constructor(e){this.el=e}onMouseEnter(){this.el.nativeElement.style.color="#0056b3",this.el.nativeElement.style.textDecoration="underline"}onMouseLeave(){this.el.nativeElement.style.color="",this.el.nativeElement.style.textDecoration=""}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(t.SBq))};static#e=this.\u0275dir=t.lG2({type:n,selectors:[["","appLink",""]],hostBindings:function(i,r){1&i&&t.NdJ("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})}})}return n})();function M(n,s){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=s.ngIf;t.xp6(1),t.hij(" ",e,"\n")}}function I(n,s){}let S=(()=>{class n{constructor(e){this.errorService=e}get currentError(){return this.errorService.error$}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(f))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-error"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["empty",""]],template:function(i,r){if(1&i&&(t.YNc(0,M,2,1,"div",0),t.ALo(1,"async"),t.YNc(2,I,0,0,"ng-template",null,1,t.W1O)),2&i){const o=t.MAs(3);t.Q6J("ngIf",t.lcZ(1,2,r.currentError))("ngIfElse",o)}},dependencies:[c.O5,c.Ov]})}return n})();function k(n,s){if(1&n&&(t.TgZ(0,"div",11)(1,"div",6),t._uU(2),t.qZA(),t.TgZ(3,"div",6),t._UZ(4,"img",12),t.qZA(),t.TgZ(5,"div",13)(6,"a",14),t._uU(7),t.qZA()(),t.TgZ(8,"div",8),t._uU(9),t.qZA(),t.TgZ(10,"div",6),t._uU(11),t.qZA(),t.TgZ(12,"div",6),t._uU(13),t.qZA(),t.TgZ(14,"div",6),t._uU(15),t.qZA(),t.TgZ(16,"div",9),t._uU(17),t.qZA(),t.TgZ(18,"div",8),t._uU(19),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.Oqu(e.rank),t.xp6(2),t.uIk("src",null==e||null==e.team?null:e.team.logo,t.LSH),t.xp6(2),t.Q6J("routerLink","/fixtures/"+(null==e||null==e.team?null:e.team.id)),t.xp6(1),t.Oqu(null==e||null==e.team?null:e.team.name),t.xp6(2),t.Oqu(null==e||null==e.all?null:e.all.played),t.xp6(2),t.Oqu(null==e||null==e.all?null:e.all.win),t.xp6(2),t.Oqu(null==e||null==e.all?null:e.all.lose),t.xp6(2),t.Oqu(null==e||null==e.all?null:e.all.draw),t.xp6(2),t.Oqu(null==e?null:e.goalsDiff),t.xp6(2),t.Oqu(null==e?null:e.points)}}function q(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),t._uU(5,"#"),t.qZA(),t.TgZ(6,"div",6),t._uU(7,"\xa0"),t.qZA(),t.TgZ(8,"div",7),t._uU(9,"Name"),t.qZA(),t.TgZ(10,"div",8),t._uU(11,"Games"),t.qZA(),t.TgZ(12,"div",6),t._uU(13,"W"),t.qZA(),t.TgZ(14,"div",6),t._uU(15,"L"),t.qZA(),t.TgZ(16,"div",6),t._uU(17,"D"),t.qZA(),t.TgZ(18,"div",9),t._uU(19,"Goal Difference"),t.qZA(),t.TgZ(20,"div",8),t._uU(21,"Points"),t.qZA()(),t.YNc(22,k,20,10,"div",10),t.qZA()()()),2&n){const e=s.ngIf;t.xp6(22),t.Q6J("ngForOf",e)}}function E(n,s){}let $=(()=>{class n{constructor(e,i){this.leagueService=e,this.standingService=i,this.destroyed$=new g.x}get currentStanding(){return this.standingService.currentStanding$}ngOnInit(){this.leagueService.currentLeague$.pipe((0,p.R)(this.destroyed$)).subscribe(e=>{e&&this.standingService.getStandings(e).pipe((0,p.R)(this.destroyed$)).subscribe(i=>{this.standingService.setCurrentStanding(i)})})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(Z),t.Y36(U))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-standing"]],decls:6,vars:4,consts:[[1,"d-flex","flex-grow-1","flex-column","align-items-center"],[4,"ngIf","ngIfElse"],["empty",""],[1,"container","mt-5"],[1,"table-container"],[1,"table-header",2,"padding","0px"],[2,"width","40px"],[2,"width","250px"],[2,"width","70px"],[2,"width","150px"],["class","table-row","style","padding:0px !important;",4,"ngFor","ngForOf"],[1,"table-row",2,"padding","0px !important"],[1,"logo"],["appLink","",2,"width","250px","text-align","start","padding-left","5px"],[3,"routerLink"]],template:function(i,r){if(1&i&&(t.TgZ(0,"div",0),t._UZ(1,"app-error"),t.YNc(2,q,23,1,"div",1),t.ALo(3,"async"),t.qZA(),t.YNc(4,E,0,0,"ng-template",null,2,t.W1O)),2&i){const o=t.MAs(5);t.xp6(2),t.Q6J("ngIf",t.lcZ(3,2,r.currentStanding))("ngIfElse",o)}},dependencies:[c.sg,c.O5,h.rH,A,S,c.Ov],styles:[".logo[_ngcontent-%COMP%]{width:25px}.table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #ccc;max-width:800px}.table-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border-right:1px solid #babbbc;height:40px;padding:0}.table-header[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;text-align:center;align-items:center;padding:5px;border-bottom:1px solid #ccc}.table-header[_ngcontent-%COMP%]{font-weight:700;background-color:#f0f0f0}.table-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-grow:1;text-align:center;height:35px}.table-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(:last-child){border-right:1px solid #ccc}a[_ngcontent-%COMP%]{color:#000;text-decoration:none;transition:color .3s ease}"]})}return n})(),P=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-football-results"]],decls:9,vars:0,consts:[[1,"container","vh-100","rounded-4","divStyle","d-flex","flex-column","bg-body-secondary"],[1,"row"],[1,"col-12","text-center"],[1,"rounded-3","d-flex","m-2","flex-column","bg-light"],[1,"rounded-3","d-flex","flex-grow-1","m-2","flex-column","bg-light","tableContainer"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"Football Updates"),t.qZA()()(),t.TgZ(5,"div",3),t._UZ(6,"app-league-list"),t.qZA(),t.TgZ(7,"div",4),t._UZ(8,"app-standing"),t.qZA()())},dependencies:[T,$],styles:[".divStyle[_ngcontent-%COMP%]{border:1px solid #d9d9d9}.tableContainer[_ngcontent-%COMP%]{overflow-y:auto!important}"]})}return n})();class D{constructor(s,e,i){this.homeTeam=new _(s),this.awayTeam=new _(e),this.goals=new K(i)}}class K{constructor(s){this.home=s.home,this.away=s.away}}let Y=(()=>{class n{constructor(e,i,r){this.http=e,this.cacheService=i,this.errorService=r,this.apiKey="19332c6ea72f76eb2cd3608a1f623959",this.apiUrl="https://v3.football.api-sports.io/",this.cacheKey="fixture"}getFixtures(e){this.errorService.flush();const i=this.cacheService.get(this.cacheKey+e);if(i)return(0,m.of)(i);{const r=new d.WM({"x-apisports-key":this.apiKey});return this.http.get(`${this.apiUrl}/fixtures?team=${e}&last=10`,{headers:r}).pipe((0,v.U)(o=>{if(0===o.errors.length){let a=o.response.map(u=>new D(u.teams.home,u.teams.away,u.goals));return this.cacheService.set(this.cacheKey+e,a,36e5),a}{const a=Object.values(o.errors);throw new Error(a[0]??"Unknown Error")}}),(0,x.K)(o=>(this.errorService.setCurrentError(o),[])))}}static#t=this.\u0275fac=function(i){return new(i||n)(t.LFG(d.eN),t.LFG(y),t.LFG(f))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j(n,s){if(1&n&&(t.TgZ(0,"div",9)(1,"div",10),t._UZ(2,"img"),t._uU(3),t.qZA(),t.TgZ(4,"div",11),t._uU(5),t.qZA(),t.TgZ(6,"div",10),t._uU(7),t._UZ(8,"img"),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.uIk("src",null==e||null==e.homeTeam?null:e.homeTeam.logo,t.LSH),t.xp6(1),t.hij(" ",null==e||null==e.homeTeam?null:e.homeTeam.name,""),t.xp6(2),t.AsE("",null==e||null==e.goals?null:e.goals.home," - ",null==e||null==e.goals?null:e.goals.away,""),t.xp6(2),t.hij("",null==e||null==e.awayTeam?null:e.awayTeam.name," "),t.xp6(1),t.uIk("src",null==e||null==e.awayTeam?null:e.awayTeam.logo,t.LSH)}}function N(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",7),t.YNc(2,j,9,6,"div",8),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.fixtures)}}function J(n,s){}const B=[{path:"",component:P},{path:"fixtures/:teamId",component:(()=>{class n{constructor(e,i){this.route=e,this.fixtureService=i,this.destroyed$=new g.x,this.fixtures=[]}ngOnInit(){this.teamId=this.route.snapshot.paramMap.get("teamId"),null!=this.teamId&&this.fixtureService.getFixtures(this.teamId).pipe((0,p.R)(this.destroyed$)).subscribe(e=>{this.fixtures=e})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(h.gz),t.Y36(Y))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-fixtures"]],decls:12,vars:3,consts:[[1,"container","vh-100","rounded-4","divStyle","d-flex","flex-column","bg-body-secondary"],[1,"row"],[1,"col-12","text-center"],[1,"rounded-3","d-flex","flex-grow-1","m-2","flex-column","bg-light","tableContainer"],[4,"ngIf","ngIfElse"],["tabindex","0","id","mainPageBtn",1,"btn","btn-success","m-2",3,"routerLink"],["empty",""],[1,"table-container"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[2,"width","300px"],[2,"width","100px"]],template:function(i,r){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"Football Updates"),t.qZA()()(),t.TgZ(5,"div",3),t._UZ(6,"app-error"),t.YNc(7,N,3,1,"div",4),t.qZA(),t.TgZ(8,"button",5),t._uU(9,"< Back"),t.qZA()(),t.YNc(10,J,0,0,"ng-template",null,6,t.W1O)),2&i){const o=t.MAs(11);t.xp6(7),t.Q6J("ngIf",r.fixtures)("ngIfElse",o),t.xp6(1),t.Q6J("routerLink","")}},dependencies:[c.sg,c.O5,h.rH,S],styles:["img[_ngcontent-%COMP%]{width:30px}.d-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.table-container[_ngcontent-%COMP%]{border:1px solid #ccc}.tableContainer[_ngcontent-%COMP%]{min-width:800px}.table-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #ccc}.table-header[_ngcontent-%COMP%]{font-weight:700;background-color:#f0f0f0}.table-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;text-align:center}"]})}return n})()},{path:"**",redirectTo:"/"}];let G=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(B),h.Bz]})}return n})(),H=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[c.ez,G]})}return n})()}}]);