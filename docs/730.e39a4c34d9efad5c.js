"use strict";(self.webpackChunkng_football=self.webpackChunkng_football||[]).push([[730],{730:(M,h,o)=>{o.r(h),o.d(h,{FootballResultsModule:()=>D});var c=o(814),p=o(472),t=o(946),f=o(645),d=o(773),m=o(619),v=o(96),y=o(398),u=o(862);class b{constructor(a,e,s,i){this.country=a,this.name=e,this.apiId=s,this.currentSeason=i}}let Z=(()=>{class n{get(e){const s=localStorage.getItem(e);if(s){const i=JSON.parse(s);if(i&&i.expiration>Date.now())return i.data}return null}set(e,s,i){console.log("data",s);const r=Date.now()+i;localStorage.setItem(e,JSON.stringify({data:s,expiration:r}))}static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),x=(()=>{class n{constructor(e,s){this.http=e,this.cacheService=s,this.apiKey="19332c6ea72f76eb2cd3608a1f623959",this.apiUrl="https://v3.football.api-sports.io/",this.cacheKey="league",this.leagueId=[39,140,61,78,135],this._currentLeague=new m.X(null),this.currentLeague$=this._currentLeague.asObservable()}getLeagues(){const e=this.cacheService.get(this.cacheKey);if(e)return(0,v.of)(e);{const s=new u.WM({"x-apisports-key":this.apiKey});return this.http.get(`${this.apiUrl}/leagues?current=true`,{headers:s}).pipe((0,y.U)(i=>{let r=i.response.filter(l=>this.leagueId.includes(l.league.id)).map(l=>new b(l.country.name,l.league.name,l.league.id,l.seasons.filter(g=>!0===g.current)[0].year));return this.cacheService.set(this.cacheKey,r,864e5),r}))}}selectCurrentLeague(e){this._currentLeague.next(e)}get currentLeague(){return this._currentLeague.getValue()}static#t=this.\u0275fac=function(s){return new(s||n)(t.LFG(u.eN),t.LFG(Z))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function T(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"li",5)(1,"a",6),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.leagueSelect(r))}),t._uU(2),t.qZA()()}if(2&n){const e=a.$implicit,s=t.oxw();t.ekj("active",s.isActive(e)),t.xp6(2),t.Oqu(e.country)}}let O=(()=>{class n{constructor(e){this.leagueService=e,this.destroyed$=new f.x,this.leagues=[]}leagueSelect(e){this.leagueService.selectCurrentLeague(e)}isActive(e){return this.leagueService.currentLeague===e}ngOnInit(){this.leagueService.getLeagues().pipe((0,d.R)(this.destroyed$)).subscribe(e=>{this.leagues=e})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(x))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-league-list"]],decls:5,vars:1,consts:[[1,"container"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light","rounded-3"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","mx-auto","text-center"],["class","nav-item custom-nav-item",3,"active",4,"ngFor","ngForOf"],[1,"nav-item","custom-nav-item"],[1,"nav-link",3,"click"]],template:function(s,i){1&s&&(t.TgZ(0,"div",0)(1,"nav",1)(2,"div",2)(3,"ul",3),t.YNc(4,T,3,3,"li",4),t.qZA()()()()),2&s&&(t.xp6(4),t.Q6J("ngForOf",i.leagues))},dependencies:[c.sg],styles:[".custom-nav-item[_ngcontent-%COMP%]{width:120px;cursor:pointer}.nav-item.active[_ngcontent-%COMP%]{background-color:#ffda6a;border-radius:15px}"]})}return n})();class A{constructor(a){this.id=a.id,this.name=a.name,this.logo=a.logo}}class U{constructor(a){this.rank=a.rank,this.points=a.points,this.goalsDiff=a.goalsDiff,this.team=new A(a.team),this.all=new C(a.all)}}class C{constructor(a){this.played=a.played,this.win=a.win,this.draw=a.draw,this.lose=a.lose}}let L=(()=>{class n{constructor(e,s){this.http=e,this.cacheService=s,this.apiKey="19332c6ea72f76eb2cd3608a1f623959",this.apiUrl="https://v3.football.api-sports.io/",this.cacheKey="standings",this._currentStanding=new m.X(null),this.currentStanding$=this._currentStanding.asObservable()}getStandings(e){const s=this.cacheService.get(this.cacheKey+e?.apiId);if(s)return(0,v.of)(s);{const i=new u.WM({"x-apisports-key":this.apiKey});return this.http.get(`${this.apiUrl}/standings?league=${e.apiId}&season=${e.currentSeason}`,{headers:i}).pipe((0,y.U)(r=>{let l=r.response[0].league.standings[0].map(g=>new U(g));return console.log(l),this.cacheService.set(this.cacheKey+e.apiId,l,864e5),l}))}}setCurrentStanding(e){this._currentStanding.next(e)}static#t=this.\u0275fac=function(s){return new(s||n)(t.LFG(u.eN),t.LFG(Z))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function w(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",9),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.qZA(),t.TgZ(17,"td"),t._uU(18),t.qZA()()),2&n){const e=a.$implicit;t.xp6(2),t.Oqu(e.rank),t.xp6(2),t.uIk("src",null==e||null==e.team?null:e.team.logo,t.LSH),t.xp6(2),t.Oqu(null==e||null==e.team?null:e.team.name),t.xp6(2),t.Oqu(null==e||null==e.all?null:e.all.played),t.xp6(2),t.Oqu(null==e||null==e.all?null:e.all.win),t.xp6(2),t.Oqu(null==e||null==e.all?null:e.all.lose),t.xp6(2),t.Oqu(null==e||null==e.all?null:e.all.draw),t.xp6(2),t.Oqu(null==e?null:e.goalsDiff),t.xp6(2),t.Oqu(null==e?null:e.points)}}function F(n,a){if(1&n&&(t.TgZ(0,"div")(1,"div",3)(2,"table",4)(3,"thead",5)(4,"tr"),t._UZ(5,"th",6)(6,"th",6),t.TgZ(7,"th",7),t._uU(8,"Name"),t.qZA(),t.TgZ(9,"th",6),t._uU(10,"Games"),t.qZA(),t.TgZ(11,"th",6),t._uU(12,"W"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"L"),t.qZA(),t.TgZ(15,"th",6),t._uU(16,"D"),t.qZA(),t.TgZ(17,"th",6),t._uU(18,"Goal Difference"),t.qZA(),t.TgZ(19,"th",6),t._uU(20,"Points"),t.qZA()()(),t.TgZ(21,"tbody"),t.YNc(22,w,19,9,"tr",8),t.qZA()()()()),2&n){const e=a.ngIf;t.xp6(22),t.Q6J("ngForOf",e)}}function _(n,a){}let q=(()=>{class n{constructor(e,s){this.leagueService=e,this.standingService=s,this.destroyed$=new f.x,this.standing=[]}get currentStanding(){return this.standingService.currentStanding$}ngOnInit(){this.leagueService.currentLeague$.pipe((0,d.R)(this.destroyed$)).subscribe(e=>{e&&this.standingService.getStandings(e).pipe((0,d.R)(this.destroyed$)).subscribe(s=>{this.standingService.setCurrentStanding(s)})})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}static#t=this.\u0275fac=function(s){return new(s||n)(t.Y36(x),t.Y36(L))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-standing"]],decls:5,vars:4,consts:[[1,"d-flex","flex-grow-1","flex-column","align-items-center"],[4,"ngIf","ngIfElse"],["empty",""],[1,"container","mt-5"],[1,"table","table-bordered"],[1,"thead-dark"],["scope","col"],["scope","col-2"],[4,"ngFor","ngForOf"],[1,"logo"]],template:function(s,i){if(1&s&&(t.TgZ(0,"div",0),t.YNc(1,F,23,1,"div",1),t.ALo(2,"async"),t.YNc(3,_,0,0,"ng-template",null,2,t.W1O),t.qZA()),2&s){const r=t.MAs(4);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,i.currentStanding))("ngIfElse",r)}},dependencies:[c.sg,c.O5,c.Ov],styles:[".logo[_ngcontent-%COMP%]{width:25px}"]})}return n})(),S=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-football-results"]],decls:9,vars:0,consts:[[1,"container","vh-100","rounded-4","divStyle","d-flex","flex-column","bg-body-secondary"],[1,"row"],[1,"col-12","text-center"],[1,"rounded-3","d-flex","m-2","flex-column","bg-light"],[1,"rounded-3","d-flex","flex-grow-1","m-2","flex-column","bg-light","tableContainer"]],template:function(s,i){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),t._uU(4,"Football Updates"),t.qZA()()(),t.TgZ(5,"div",3),t._UZ(6,"app-league-list"),t.qZA(),t.TgZ(7,"div",4),t._UZ(8,"app-standing"),t.qZA()())},dependencies:[O,q],styles:[".divStyle[_ngcontent-%COMP%]{border:1px solid #d9d9d9}.tableContainer[_ngcontent-%COMP%]{overflow-y:auto!important}"]})}return n})();const $=[{path:"",component:S},{path:"football-results",component:S}];let I=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[p.Bz.forChild($),p.Bz]})}return n})(),D=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({imports:[c.ez,I]})}return n})()}}]);